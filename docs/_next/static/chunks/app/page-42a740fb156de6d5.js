(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3551:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,U4:()=>s,sX:()=>c});let a=(0,r(6439).Z0)({name:"cart",initialState:{carts:[]},reducers:{addCart:(e,t)=>{let{name:r,category:a,price:s,qty:l,image:c}=t.payload,d=e.carts.findIndex(e=>e.name===r);if(-1!==d){let t=[...e.carts];return t[d]={name:r,category:a,price:s,image:c,qty:t[d].qty+l},{...e,carts:t}}{let r=[...e.carts];return r.push(t.payload),{...e,carts:r}}},updateCart:(e,t)=>{let{name:r,qty:a}=t.payload,s=e.carts.findIndex(e=>e.name===r);if(-1!==s){let t=[...e.carts];return t[s].qty=a,{...e,carts:t}}},clearCart:e=>({...e,carts:[]})}}),{addCart:s,updateCart:l,clearCart:c}=a.actions,d=a.reducer},5812:(e,t,r)=>{Promise.resolve().then(r.bind(r,8839))},5999:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0},8839:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var a=r(5155),s=r(3614),l=r(5237),c=r(4303),d=r(2320),i=r(9760),n=r(6093),o=r(6709),u=r(2115),y=r(5999);let p=e=>{let{title:t,products:r,loading:p,handleFilterCategory:g,categories:h,handlePageSize:m,pageSize:x,sortBy:k,handleSortBy:j,category:A,handleAddToCart:v}=e,[S,b]=(0,u.useState)(1),[C,f]=s.Ay.useMessage(),N=e=>{b(e?parseInt(e.toString()):1)},P={items:[...0==h.length?[]:h.map((e,t)=>({label:e,key:t+"-"+e,style:{color:e===A?"darkgray":""}})),{label:"Clear",key:"999",danger:!0}],onClick:e=>{"999"==e.key.split("-")[0]?g(""):g(e.key.split("-")[1])}},w={items:[{label:"5",key:"5",style:{color:5==x?"darkgray":""}},{label:"10",key:"10",style:{color:10==x?"darkgray":""}}],onClick:e=>{m(parseInt(e.key))}},z={items:[{label:"Product Name (A - Z)",key:"name-asc",style:{color:"name-asc"==k?"darkgray":""}},{label:"Product Name (Z - A)",key:"name-desc",style:{color:"name-desc"==k?"darkgray":""}},{label:"Price (Low to High)",key:"price-asc",style:{color:"price-asc"==k?"darkgray":""}},{label:"Price (High to Low)",key:"price-desc",style:{color:"price-desc"==k?"darkgray":""}},{label:"Reset Sorting",key:"",danger:!0}],onClick:e=>{j(e.key)}};return(0,a.jsxs)(a.Fragment,{children:[f,(0,a.jsx)("h2",{children:t}),p&&(0,a.jsx)("div",{children:(0,a.jsx)("h3",{children:"Loading ..."})}),!p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"header-product",children:[(0,a.jsxs)("div",{style:{display:"inline-block",marginRight:"15px"},children:["Show ",(0,a.jsx)(l.A,{menu:w,children:(0,a.jsx)(c.Ay,{children:(0,a.jsxs)(d.A,{children:[x||"Page Size",(0,a.jsx)(o.A,{})]})})})," record"]}),(0,a.jsx)(l.A,{menu:P,children:(0,a.jsx)(c.Ay,{children:(0,a.jsxs)(d.A,{children:[A||"Category",(0,a.jsx)(o.A,{})]})})}),(0,a.jsx)(l.A,{menu:z,children:(0,a.jsx)(c.Ay,{children:(0,a.jsxs)(d.A,{children:[k?(e=>{var t;return null===(t=z.items.find(t=>t.key==e))||void 0===t?void 0:t.label})(k):"Sort By",(0,a.jsx)(o.A,{})]})})})]}),(0,a.jsx)("div",{className:"produk-list",children:r.map((e,t)=>(0,a.jsxs)("div",{className:"produk-item",children:[(0,a.jsx)("img",{src:"data:image/png;base64,".concat(null==e?void 0:e.image),alt:"Prod ".concat(t)}),(0,a.jsx)("h3",{children:null==e?void 0:e.name}),(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{href:"#",className:"link-category",children:e.category}),"  Rp ",(0,y.A)(null==e?void 0:e.price)]}),(0,a.jsx)(i.A,{content:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{min:1,max:999,defaultValue:1,onChange:N}),(0,a.jsx)(c.Ay,{size:"middle",color:"danger",onClick:()=>{v({...e,qty:S}),b(1),C.open({type:"success",content:"Successfully add to cart !"})},style:{backgroundColor:"orange",color:"white",marginLeft:"5px"},children:"Save"})]}),trigger:"click",placement:"bottom",onOpenChange:e=>{e||b(1)},children:(0,a.jsx)(c.Ay,{size:"middle",type:"primary",color:"danger",variant:"solid",style:{marginRight:"10px"},children:"Add to cart"})}),(0,a.jsx)(c.Ay,{className:"btn",size:"middle",type:"primary",children:"Buy Now"})]},"productItem-".concat(t)))})]})]})};var g=r(3464),h=r(4540),m=r(2390),x=r(9935),k=r(3551);let j="https://1c6b-114-10-150-245.ngrok-free.app",A=()=>{let e=(0,h.wA)(),t=(0,h.d4)(e=>e.product.products);(0,h.d4)(e=>e.cart.carts);let[r,s]=(0,u.useState)(!0),[l,c]=(0,u.useState)(0),[d,i]=(0,u.useState)(5),[n,o]=(0,u.useState)(""),[y,A]=(0,u.useState)([]),[v,S]=(0,u.useState)(""),b=(t,r,a,l)=>{s(!0);let c={page:t,size:r,...a?{category:a}:{},...l?{sortBy:l}:{}};setTimeout(()=>{g.A.get("".concat(j,"/product-service/product"),{params:c}).then(t=>{console.log(t),s(!1),e((0,x.y)(null==t?void 0:t.data))})},700)},C=()=>{g.A.get("".concat(j,"/product-service/product/list-category")).then(e=>{A(null==e?void 0:e.data)})};return(0,u.useEffect)(()=>{b(l,d,n,v)},[l,d,n,v]),(0,u.useEffect)(()=>{b(l,d),C()},[e]),(0,a.jsxs)("section",{className:"produk",children:[(0,a.jsx)(p,{products:(null==t?void 0:t.data)||[],title:"Our Products",loading:r,categories:y,handleFilterCategory:e=>{o(e)},category:n,handlePageSize:e=>{i(e)},pageSize:d,handleSortBy:e=>{S(e)},sortBy:v,handleAddToCart:t=>{e((0,k.U4)(t))}},"productCatalog"),(0,a.jsx)(m.A,{pageSize:d,current:l+1,total:t.totalData,onChange:e=>{c(e-1)},style:{display:"inline-block"}})]})}},9935:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,y:()=>s});let a=(0,r(6439).Z0)({name:"product",initialState:{products:[],cart:[]},reducers:{setProduct:(e,t)=>{e.products=t.payload}}}),{setProduct:s}=a.actions,l=a.reducer}},e=>{var t=t=>e(e.s=t);e.O(0,[963,675,770,350,441,684,358],()=>t(5812)),_N_E=e.O()}]);